<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add New Question</title>
  <link rel="stylesheet" href="/style.css"/>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>
<body>
  <div class="D_container">
    <br><br><br>
    <div class="D_nav text-center">
      Welcome to Exam Application System
    </div>

    <div class="D_flex d-flex">
      <!-- Sidebar -->
      <div class="side1 p-3" style="width: 250px;">
        <center><h2>Admin</h2></center>
        <ul class="list-unstyled">
          <li><a href="/dashboard">Admin</a></li>
          <li><a href="/course">Subject</a></li>
          <li><a href="/exam">Exam</a></li>
          <li><a href="/question">Question</a></li>
          <li><a href="/schedule">Schedule</a></li>
          <li><a href="/dashBoard">Dashboard</a></li>
        </ul>
      </div>
     

      <!-- Main Content -->
      <div class="side2 flex-grow-1 p-3">
        <div class="toshowCourse">

          <!-- Add New Question Form -->
          <div class="card shadow mx-auto" style="max-width: 600px;">
            <div class="card-body">
              <h4 class="text-center mb-4">âž• Add New Question</h4>
              <form action="/saveQues" method="POST">

                <div class="mb-3">
                  <label for="question" class="form-label">Question</label>
                  <input type="text" name="question" class="form-control" placeholder="Enter Question" required>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Option 1</label>
                    <input type="text" name="option1" class="form-control" required>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Option 2</label>
                    <input type="text" name="option2" class="form-control" required>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Option 3</label>
                    <input type="text" name="option3" class="form-control" required>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Option 4</label>
                    <input type="text" name="option4" class="form-control" required>
                  </div>
                </div>

                <div class="mb-3">
                  <label class="form-label">Correct Answer (Option Number)</label>
                  <input type="number" name="correctAnswer" class="form-control" min="1" max="4" placeholder="Enter number from 1 to 4" required>
                </div>

                <div class="mb-3">
                  <label class="form-label">Select Course</label>
                  <select name="course_id" class="form-select" required>
                    <option value="">Select Course</option>
                    <% courses.forEach(course => { %>
                      <option value="<%= course.cid %>"><%= course.cname %></option>
                    <% }); %>
                  </select>
                </div>

                <button type="submit" class="btn btn-primary w-100 mt-2">Save Question</button>
              </form>
            </div>
          </div>
 &nbsp; &nbsp;
          <!-- View All Questions Table -->
          <div class="viewcourse mt-5">
            <h2 class="text-center mb-4">ðŸ“‹ All Questions</h2>
            <% if (!questions || questions.length === 0) { %>
              <p class="text-center">No questions available</p>
            <% } else { %>
              <table class="table table-bordered table-striped text-center w-100">
                <thead class="table-dark">
                  <tr>
                    <th>Question</th>
                    <th>Options</th>
                    <th>Correct</th>
                    <th>Course</th>
                  </tr>
                </thead>
                <tbody>
                  <% questions.forEach(q => { %>
                    <tr>
                      <td><%= q.qname %></td>
                      <td>
                        1. <%= q.op1 %><br>
                        2. <%= q.op2 %><br>
                        3. <%= q.op3 %><br>
                        4. <%= q.op4 %>
                      </td>
                      <td><%= q.answer %></td>
                      <td><%= q.cname %></td>
                    </tr>
                  <% }); %>
                </tbody>
              </table>
            <% } %>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js"></script>
</body>
</html>
